
\section{\textit{Treebanks}}
\label{treebank}

Em Processamento de Linguagem Natural, não é possível avaliar textos em seu contexto original o tempo todo. Ao invés disso, faz-se uma coleção de textos, que servirão como amostra para a análise. Esse corpo de textos é chamado de \textit{corpus}. Um conjunto de corpus é chamado \textit{corpora}. Como destacado em \cite[p~6]{Manning1999FoundationsNLP},
\begin{displayquote}
    \textquote{\textit{Adopting such a corpus-based approach, people have pointed to the earlier advocacy of empiricist ideas by the British linguist J.R. Firth, who coined the slogan \textquote{You shall know a word by the company it keeps}}}
    \footnote{\textquote{Adotando tal abordagem baseada em corpus, pessoas apontaram para as primeiras defesas das ideias empiricistas pelo linguista britânico] J. R. Flirth, que forjou o slogan \textquote{Você deve conhecer uma palavra pela companhia que esta mantém}}. Tradução própria.}.
\end{displayquote}

Seu uso não é novo. Pelo contrário, em 1951, Zelling Harris tenta descobrir procedimentos no qual a estrutura de uma linguagem possa ser encontrado automaticamente. Como destacado em  (\textit{\Ibidem[p~6]{Manning1999FoundationsNLP}}),
\begin{displayquote}
    \textquote{\textit{While this work had no thoughts to computer implementation, and is perhaps somewhat computationally naive, we find here also the idea that a good grammatical description is one that provides a compact representation of a corpus of texts}}
    \footnote{\textquote{Enquanto este trabalho não pensava numa implementação computacional, e é de certa forma ingênuo computacionalmente, encontramos aqui também a ideia de que uma boa descrição gramatical é uma que provenha de uma representação compacta de um corpus de textos}. Tradução própria.}.
\end{displayquote}

Diversas técnicas de \textit{parsing} utilizam de aprendizado supervisionado. Portanto, precisamos de uma fonte de dados que sirvam para o treino e para o teste destes sistemas. No nosso caso, usamos bancos de árvores, ou \textit{treebanks}. \textit{Treebanks} são, como descrito em  \cite[p~412]{Manning1999FoundationsNLP}, \textquote{\textit{some examples of the kinds of parse trees that are wanted. A collection of such example parses is referred to as a treebank}}
\footnote{\textquote{Alguns exemplos dos tipo de análise em árvore desejados. Uma coleção de tais árvores de exemplo são denominados \textit{treebank}}. Tradução própria.}.

\citeonline[p~142]{bick2008FlorestaSintatica} resumem como:
\begin{quote}
    \textquote{Uma floresta sintática
    \footnote{Ao longo do trabalho usaremos os termos \textquote{banco de árvores}, ou \textquote{treebanks}}
    – tradução do inglês \textit{treebank} – é um conjunto de itens (frases) analisados sintaticamente. A cada frase é atribuída uma estrutura sintática hierárquica, e por isso uma frase (sintaticamente analisada) pode ser vista como uma árvore, donde uma floresta nada mais é que um conjunto de frases analisadas sintaticamente e com informação relativa aos níveis de constituintes. Florestas sintáticas costumam ser utilizadas, de maneira geral, tanto em estudos da língua baseados em corpus como no treino de analisadores sintáticos}.
\end{quote}

Ou seja, \textit{treebanks} são \textit{corpora} de sentenças pré-analisadas sintaticamente, de maneira automatizada, semi-automatizada, ou cuja análise foi totalmente feita por humanos.

% É necessário entender as estruturas internas de um \textit{treebank}. Comentaremos a respeito das \textit{POS tags} na sessão \ref{subsec:POStags}. Abordaremos estrutura frasal na sessão \ref{subsec:estrFrasal}. Por fim, 
Uma grande quantidade de grupos criou seus próprios \textit{treebanks} ao longo da história. \citeonline[p~412]{Manning1999FoundationsNLP} destacam que o mais utilizado, refletindo seu tamanho (robustez) e legibilidade, é o \textit{Penn Treebank}. Este, também, é o  \textit{treebank} que usaremos como referência, e o descreveremos na sessão \ref{subsec:PennTB}.

% -------------------------------------------------------------

\subsection{\textit{Penn Treebank}}
\label{subsec:PennTB}

Vários \textit{treebanks} foram construídos ao longo da história\footnote{\citeonline[p~314]{buildingPTB} citam, por exemplo, Lancaster-Oslo / Bergen, o Lancaster UCREL, e o London-Lund Corpus of Spoken English}. Dentre eles, um que recebeu destaque foi o Brown Corpus. \cite[p~314]{buildingPTB} frisa:
\begin{quote}
    \textquote{\textit{The POS tagsets used to annotate large corpora in the past have traditionally been fairly extensive. The pioneering Brown Corpus distinguishes 87 simple tags and allows the formation of compound tags.}}
    \footnote{\textquote{O conjunto de etiquetas morfossintáticas usados para anotar grandes corpora no passado são, tradicionalmente, bem extensivos. O pioneiro, Brown Corpus, distingue 87 etiquetas simples permite a formatação de tags compostas}. Tradução própria}
\end{quote}

A ideia do \textit{Penn Treebank} (PTB) é, indo na contramão, fazer um \textit{corpus} com o \textit{tagset} simplificado. Algumas estratégias foram tomadas para que essa redução fosse possível, uma vez que, é preciso lembrar, a extensa quantidade de \textit{tags} tem razão para acontecer. É uma forma de alcançar \apudonline[p~314]{garside1988computational}{buildingPTB}
\textquote{\textit{the ideal of providing distinct codings for all classes of words having distinct grammatical behaviour}}.
\footnote{\textquote{O ideal de prover códigos distintos para todas as classes de palavras possuindo comportamentos gramaticais distintos}. Tradução própria.}
Uma das primeiras estratégias citadas foi reduzir a redundância de \textit{tags} cuja distinção pode ser obtida pelo léxico da palavra. Por exemplo, (\textit{\Ibidem[p~314]{buildingPTB}})
\textquote{\textit{The Brown Corpus [\ldots] distinguishes three forms of do--the base form (DO), the past tense (DOD), and the third person singular present (DOZ)}}
\footnote{\textquote{O Brown Corpus [\ldots] distingue tres formas de \textquote{do} - a forma base (DO), o tempo passado (DOD), e a terceira pessoa do presente do singular (DOZ)}. Tradução própria}.
Todas estas diferenças podem ser capturadas lexicalmente no momento da análise.

Além da recuperabilidade lexical, também houve a eliminação de \textit{POS tags} cuja distinção é recuperável com referência à estrutura sintática. (\textit{\Ibidem[p~315]{buildingPTB}}),
\begin{quote}
    \textquote{\textit{For instance, the Penn Treebank tagset does not distinguish subject pronouns from object pronouns even in cases where the distinction is not recoverable from the pronoun's form, as with you, since the distinction is recoverable on the basis of the pronoun's position in the parse tree in the parsed version of the corpus.}}
    \footnote{\textquote{Por exemplo, o conjunto de etiquetas do Penn Treebank não distingue pronomes sujeitos de pronomes objeto mesmo em casos onde a distinção não é recuperável pela forma pronominal, tal como \textquote{\textit{you}}, uma vez que a distinção é recuperável na base a posição do pronome na árvore de derivação na versão classificada do corpus}. Tradução própria.}
\end{quote}

Tomar essa medida não só minimiza redundâncias, como também aumenta a consistência do corpus, uma vez que um número reduzido de \textit{tags} reduz a possibilidade de erros / inconsistências.

O PTB foca, também, em marcar a palavra de acordo com sua característica sintática. Por exemplo, a palavra \textit{One}. \cite[p~315-316]{buildingPTB}
\begin{displayquote}
    \textquote{\textit{For instance, in the phrase the one, one is always tagged as CD (cardinal number), whereas in the corresponding plural phrase the ones, ones is always tagged as NNS (plural common noun), despite the parallel function of one and ones as heads of the noun phrase.\\
    By contrast, [\ldots], we encode a word's syntactic function in its POS tag whenever possible. Thus, one is tagged as NN (singular common noun) rather than as CD [\ldots] when it is the head of a noun phrase.}}
    \footnote{\textquote{Por exemplo, no sintagma \textquote{the one}, \textquote{one} sempre é marcado como CD (número cardinal), enquanto que no sintagma plural correspondente \textquote{the ones}, \textquote{ones} é sempre marcado como NNS (substantivo comum plural), independente da função paralela de \textquote{one} e \textquote{ones} como núcleos do sintagma nominal.\\
    Por contraste, [\ldots], nós codificamos uma função sintática de palavra no seu \textit{POS tag} sempre que possível. Portanto, \textquote{\textit{one}} é marcado como NN (substantivo comum singular) ao invés de CD [\ldots] quando é núcleo de um sintagma nominal}. Tradução própria.}
\end{displayquote}

Um diferencial entre o PTB e boa parte dos \textit{treebanks} existentes é a questão da indeterminação. Quando há tanto a ambiguidade de \textit{POS} no texto, como incerteza do anotador\footnote{Anotador é o sistema que atribui \textit{POS tags} a cada palavra}.  Em diversos momentos, o contexto linguístico é capaz de resolver tais diferenças. Nem sempre é possível atribuir uma única \textit{tag} a uma palavra. Para resolver isto, o PTB possibilita ao anotador que atribua mais de uma \textit{tag} a uma palavra, se necessário. Existe a liberdade de atribuir quantas \textit{tags} forem necessárias,
\textquote{\textit{but in practice, multiple tags are restricted to a small number of recurring two-tag combinations}}
\footnote{\textquote{mas na prática, multiplas tags se restringem a um pequeno número de combinações de duas \textit{tags} recorrentes}, como visto em \cite{buildingPTB}. Tradução própria.}.
Para fazer a anotação do PTB, foi usado um processo em duas partes: primeiro, automatizado, e depois um revisão manual.

Por fim, temos a tabela \ref{tab:tags_ptb}, de \textit{POS tags} relativas ao PTB.
\begin{center}
\input{tabelas/tab_tags_ptb.tex}
\end{center}

\input{./2-elementos-textuais/revisao_treebanksPortugues}
